# Введение в aiogram 3.x

## Что такое aiogram?

**aiogram** — это современный, полностью асинхронный фреймворк для создания Telegram-ботов на языке Python. Он разработан с учётом последних стандартов языка (Python 3.8+) и использует асинхронное программирование (`asyncio`), что позволяет эффективно обрабатывать множество запросов одновременно. Фреймворк активно поддерживается, следует актуальным версиям Telegram Bot API и предоставляет разработчикам мощные инструменты для создания ботов любой сложности — от простых эхо-ботов до сложных систем с конечными автоматами, платежами и интеграциями.

### Ключевые особенности aiogram 3.x:

- **Асинхронность**: Полная поддержка `asyncio` для высокой производительности.
- **Типизация**: Поддержка type hints и совместимость с `mypy` для надёжного кода.
- **Актуальность**: Поддержка Telegram Bot API 9.1 и быстрые обновления при выходе новых версий.
- **Гибкость**: Модульная архитектура с роутерами, мидлварями и фильтрами.
- **Расширяемость**: Встроенная поддержка конечных автоматов (FSM), локализации, платежей и других продвинутых функций.
- **Сообщество**: Активное сообщество, подробная документация и множество обучающих материалов.

## Для кого эта документация?

Эта документация предназначена для:

- **Студентов университетов**, изучающих разработку программного обеспечения и создающих проекты на Python.
- **Начинающих разработчиков**, которые хотят освоить создание Telegram-ботов с нуля.
- **Преподавателей и менторов**, ищущих структурированный материал для курсов и воркшопов.
- **Опытных программистов**, переходящих на aiogram 3.x с других фреймворков или предыдущих версий aiogram.

Мы предполагаем, что вы уже знакомы с основами Python, понимаете концепции асинхронного программирования и умеете работать с виртуальными окружениями. Если нет — рекомендуем сначала пройти вводный курс по Python.

## Структура документации

Документация организована в виде последовательности разделов, каждый из которых посвящён конкретной теме. Все файлы расположены в логическом порядке с использованием числовых префиксов для удобной навигации в Obsidian. Ниже представлена общая структура с кратким описанием каждого раздела:

- **[00-Введение.md](00-Введение.md)**: Обзор фреймворка, цели и структура документации.
- **[01-Установка и настройка.md](01-Установка и настройка.md)**: Подробная инструкция по установке aiogram, настройке окружения и первым шагам.
- **[02-Первый бот.md](02-Первый бот.md)**: Создание простейшего бота, регистрация в BotFather, запуск и тестирование.
- **[03-Основы aiogram.md](03-Основы aiogram.md)**: Ключевые концепции: Dispatcher, Bot, Router, асинхронность и структура проекта.
- **[04-Работа с сообщениями.md](04-Работа с сообщениями.md)**: Типы сообщений, отправка ответов, редактирование, удаление и работа с медиа.
- **[05-Кнопки и клавиатуры.md](05-Кнопки и клавиатуры.md)**: Создание Reply и Inline клавиатур, использование Keyboard Builder.
- **[06-Роутеры и структура проекта.md](06-Роутеры и структура проекта.md)**: Организация кода с помощью роутеров, вложенные роутеры, масштабирование.
- **[07-Фильтры событий.md](07-Фильтры событий.md)**: Встроенные и пользовательские фильтры, комбинирование, примеры использования.
- **[08-Мидлвари.md](08-Мидлвари.md)**: Основы мидлварей, порядок выполнения, практические примеры.
- **[09-Особые типы обновлений.md](09-Особые типы обновлений.md)**: Callback Query, Inline Query, управление чатами.
- **[10-Конечные автоматы (FSM).md](10-Конечные автоматы (FSM).md)**: Реализация сложных сценариев с помощью состояний.
- **[11-Инлайн-режим.md](11-Инлайн-режим.md)**: Работа в инлайн-режиме, отправка результатов, примеры.
- **[12-Платежи.md](12-Платежи.md)**: Интеграция платежных систем, обработка транзакций.
- **[13-Обработка ошибок.md](13-Обработка ошибок.md)**: Типы ошибок, глобальные и локальные обработчики, логирование.
- **[14-Webhook и развертывание.md](14-Webhook и развертывание.md)**: Настройка вебхуков, развертывание на сервере, примеры с aiohttp.
- **[15-Продвинутые возможности.md](15-Продвинутые возможности.md)**: Классовые хендлеры, сериализация, dependency injection.
- **[16-Полезные утилиты.md](16-Полезные утилиты.md)**: Работа с файлами, медиагруппами, локализация (i18n).
- **[17-Лучшие практики и примеры.md](17-Лучшие практики и примеры.md)**: Рекомендации по архитектуре, примеры кода, избегание ошибок.
- **[18-Миграция с 2.x на 3.x.md](18-Миграция с 2.x на 3.x.md)**: Ключевые отличия, шаги миграции, советы.
- **[19-FAQ и ЧаВо.md](19-FAQ и ЧаВо.md)**: Частые вопросы, решения проблем, где искать помощь.
- **[99-Ссылки и ресурсы.md](99-Ссылки и ресурсы.md)**: Официальные источники, сообщества, дополнительные материалы.

## Как использовать эту документацию

### Последовательное изучение
Если вы новичок, рекомендуем проходить разделы по порядку. Каждый раздел построен на предыдущем, и это поможет вам сформировать целостное понимание фреймворка.

### Использование как справочника
Для опытных разработчиков документация служит подробным справочником. Используйте оглавление или поиск в Obsidian, чтобы быстро найти нужную тему.

### Практические примеры
Каждый раздел содержит теоретическую часть и практические примеры кода. Копируйте примеры в свою среду, экспериментируйте и модифицируйте их — это лучший способ научиться.

### Навигация
Все файлы связаны между собой гиперссылками. Вы можете переходить между разделами, щёлкая по ссылкам в тексте. Для возврата используйте историю навигации Obsidian.

## Предварительные требования

Перед началом изучения убедитесь, что у вас есть:

1. **Базовые знания Python**:
   - Понимание синтаксиса, типов данных, функций, классов.
   - Умение работать с виртуальными окружениями (`venv`, `pip`).

2. **Основы асинхронного программирования**:
   - Понимание `async/await`, циклов событий (`event loop`).
   - Опыт работы с библиотекой `asyncio` будет плюсом.

3. **Аккаунт Telegram**:
   - Для регистрации бота через [@BotFather](https://t.me/BotFather).

4. **Среда разработки**:
   - Рекомендуемые редакторы: VS Code, PyCharm.
   - Установленный Python версии 3.8 или выше.

## Почему aiogram 3.x?

aiogram 3.x — это не просто обновление предыдущей версии, а переработанный фреймворк с улучшенной архитектурой. Он решает многие проблемы версий 2.x, такие как:

- **Отсутствие глобальных переменных**: Состояние бота теперь управляется через DI (Dependency Injection).
- **Более гибкая система роутеров**: Позволяет легко масштабировать проекты.
- **Современные подходы**: Полная поддержка асинхронности, типизации и лучших практик Python.

Изучение aiogram 3.x откроет вам двери в мир современных ботов, способных обрабатывать тысячи запросов в секунду, интегрироваться с внешними сервисами и предоставлять богатый пользовательский опыт.

## Заключение

Это введение — ваша отправная точка в мире aiogram 3.x. В следующих разделах мы погрузимся в детали, начиная с установки и заканчивая продвинутыми техниками. Помните: практика — ключ к успеху. Не бойтесь экспериментировать, задавать вопросы в сообществе и создавать своих уникальных ботов.

Удачи в изучении!